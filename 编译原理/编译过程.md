#### 程序构建的过程

C语言代码经过**预编译**，**编译**，**汇编**，**链接**的过程形成可执行文件。

#### 语法分析

为了生成C或者Java程序，首先需要对代码进行解析，将其转化为计算机所能识别的形式。这里的**解析**称为**语法分析**。解析代码的程序模块称为**解析器**或者**语法分析器**。

#### 语义分析

这种形式就叫做**语法树**，获得语法树之后，就需要解析语法树，去除多余的信息，添加必要的信息。生成**抽象语法树**的数据结构。上述处理称作**语义分析**。

语义分析需要处理如下操作：

1. 区分变量为局部变量还是全局变量
2. 解析变量的声明和引用
3. 变量和表达式的类型检查
4. 检查在引用变量之前是否进行了初始化
5. 检查函数是否按照定义返回了结果

#### 中间代码生成

生成抽象语法树, 接着将抽象语法树转化为编译器内部使用的**中间代码**. 转换为**中间代码**之后, 主要是为了支持多种**编程语言**或者是**机器语言**. 当然也存在不使用中间代码的编译器. 但是为了编译器的扩展,一般都要涉及中间代码部分.

解析代码转化为中间代码为止的这部分内容, 称为编译器的**前端**.

#### 代码生成

把中间代码转换为汇编语言, 这个阶段称为**代码生成**. 负责代码生成的程序模块称为**代码生成器**. 

代码生成的关键在于如何填补编程语言和汇编语言之间的差异. 例如, C和Java可以随意的定义局部变量, 但是汇编语言中可以使用的局部变量只有30多个. 跳转指令只有`goto`而已.

#### 优化

编译阶段还包括**优化**阶段.根据编译器的优化性能不同, 运行速度也有数倍的差距. 所以需要对编译出来的程序进行优化.

可以对`AST`进行优化, 可以对中间代码的代码进行优化. 也可以对转换的机器语言进行优化. 不仅是编译器, 对链接对运行时调用的程序库的代码也可以进行优化.