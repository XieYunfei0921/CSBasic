**虚拟机字节码执行引擎**

---

在不同虚拟机实现中，执行引擎在执行字节码的时候，通常会有解释执行和编译执行的选择。但是输入输出都是一致的，输入的是字节码二进制流，输出流过程是字节码解释执行的过程。输出的是执行结果。

#### 运行时栈帧结构

栈帧是用于支持虚拟机进行方法调用和执行的数据结构，是虚拟机栈的栈元素，存储了方法的**局部变量表**，**操作数栈**，**动态连接**，**方法返回地址**以及额外的附加信息。编译源码的时候，栈帧需要多大的局部变量表，多深的操作数栈已经被计算处理，并写入到方法表的code属性中。也就是说，一个栈需要分配多少内存，并不会收到运行期变量数据的影响，仅仅取决于程序源码和具体虚拟机栈内存分布情况。

+ 局部变量表
+ 操作数栈
+ 动态连接
+ 方法返回地址